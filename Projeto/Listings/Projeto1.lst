A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\Projeto1.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE Pratica6 -lab0\Projeto1.a51 SET(SMALL) DEBUG PRINT(.\Listings\Projeto1.
                      lst) OBJECT(.\Objects\Projeto1.obj) EP

LOC  OBJ            LINE     SOURCE

0000                   1     org 00h
0000 803E              2     jmp 040h
                       3     
                       4     ;Inicio P0
  0080                 5     dado  EQU               P0
                       6     ;Fim p0
                       7     ;Inicio P2
  00A5                 8     rs    EQU       P2.5    ;P3.4 alterna entre comando e dado (0-comando 1-dado) 
  00A6                 9     rw        EQU           P2.6
  00A7                10     en    EQU       P2.7    ;P3.5 enable display
  0500                11     temp  EQU       0500h
                      12     ;Fim P2
                      13     ;Inicio P3
  00B0                14     lin1  EQU               P3.0
  00B1                15     lin2  EQU               P3.1
  00B2                16     lin3  EQU               P3.2
  00B3                17     lin4  EQU               P3.3
  00B4                18     col1  EQU               P3.4
  00B5                19     col2  EQU               P3.5
  00B6                20     col3  EQU               P3.6
  00B7                21     col4  EQU               P3.7
                      22     ;Fim P3
                      23     ;Inicio RAM
  007F                24     var1    EQU             07FH
  007E                25     var2    EQU             07eH
  007D                26     var3    EQU             07DH
  007C                27     var4    EQU             07CH
  007B                28     var5    EQU             07BH
  007A                29     var6    EQU             07AH
  0079                30     var7    EQU             079H
  0078                31     var8    EQU             078H
  0077                32     var9    EQU             077H
                      33     
                      34     
0040                  35     ORG 040h
                      36     
0040 757F00           37     MOV var1, #0d
0043 757E00           38     MOV var2, #0d
0046 757D00           39     MOV var3, #0d
0049 757C00           40     MOV var4, #0d
004C 757B00           41     MOV var5, #0d
004F 757A00           42     MOV var6, #0d
0052 757900           43     MOV var7, #0d
0055 757800           44     MOV var8, #0d
0058 757700           45     MOV var9, #0d
                      46     
005B 919D             47     acall inidisp
005D 91DB             48     acall msg_aguardando1
005F 91FA             49     acall troca_para_L2
0061 91E3             50     acall msg_aguardando2
                      51     
0063 75B0FF           52     mov P3, #11111111b
                      53     
0066                  54     lin_check:  
0066 75B00F           55                 mov P3, #00001111b
0069 30B00B           56                             jnb lin1, L1_C_check
006C 30B116           57                             jnb lin2, L2_C_check
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE     2

006F 30B221           58                             jnb lin3, L3_C_check
0072 30B32C           59                             jnb lin4, L4_C_check
0075 80EF             60                             jmp lin_check
                      61                             
0077                  62     L1_C_check:  
0077 75B0F0           63                 mov P3, #11110000b
007A 30B429           64                             jnb col1, bot_1_Ljmp
007D 30B529           65                             jnb col2, bot_2_Ljmp
0080 30B729           66                             jnb col4, bot_3_Ljmp
                      67                             ;jnb col4, bot_A
0083 80F2             68                             jmp L1_C_check
                      69     
0085                  70     L2_C_check:  
0085 75B0F0           71                 mov P3, #11110000b
0088 30B424           72                             jnb col1, bot_4_Ljmp
008B 30B524           73                             jnb col2, bot_5_Ljmp
008E 30B724           74                             jnb col4, bot_6_Ljmp
                      75                             ;jnb col4, bot_B
0091 80F2             76                             jmp L2_C_check
                      77                             
0093                  78     L3_C_check:  
0093 75B0F0           79                 mov P3, #11110000b
0096 30B41F           80                             jnb col1, bot_7_Ljmp
0099 30B51F           81                             jnb col2, bot_8_Ljmp
009C 30B71F           82                             jnb col4, bot_9_Ljmp
                      83                             ;jnb col4, bot_C
009F 80F2             84                             jmp L3_C_check
                      85                             
00A1                  86     L4_C_check:  
00A1 75B0F0           87                 mov P3, #11110000b
                      88                             ;jnb col1, bot_ASC
                      89                             ;jnb col2, bot_0
                      90                             ;jnb col3, bot_HASH
                      91                             ;jnb col4, bot_D
00A4 80FB             92                             jmp L4_C_check
00A6                  93     bot_1_Ljmp:
00A6 0200C1           94             ljmp bot_1
00A9                  95     bot_2_Ljmp:
00A9 02012D           96             ljmp bot_2
00AC                  97     bot_3_Ljmp:
00AC 020199           98             ljmp bot_3
00AF                  99     bot_4_Ljmp:
00AF 020205          100             ljmp bot_4
00B2                 101     bot_5_Ljmp:
00B2 020271          102             ljmp bot_5
00B5                 103     bot_6_Ljmp:
00B5 0202DD          104             ljmp bot_6
00B8                 105     bot_7_Ljmp:
00B8 020349          106             ljmp bot_7
00BB                 107     bot_8_Ljmp:
00BB 0203B5          108             ljmp bot_8
00BE                 109     bot_9_Ljmp:
00BE 020421          110             ljmp bot_9
                     111     
                     112     
                     113             
00C1                 114     bot_1:
00C1 E57F            115             mov a, var1
00C3 B40B0B          116             cjne a, #11, show1
00C6 757F00          117             mov var1,#0
00C9 D2A0            118             setb P2.0
00CB B114            119             acall delay_longo
00CD C2A0            120             clr P2.0
00CF 1166            121             acall lin_check
00D1                 122     show1:  
00D1 919D            123             acall inidisp
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE     3

                     124             ;Escreve linha 1
00D3 900919          125             mov  dptr, #msg_1_L1
00D6 7C10            126         mov r4, #016d
00D8 91EB            127             acall msg
                     128             ;Troca Linha
00DA 91FA            129             acall troca_para_L2
                     130             ;Escreve Comeco da linha 2
00DC 90098E          131             mov  dptr, #msg_1_L2
00DF 7C10            132             mov r4, #016d
00E1 91EB            133             acall msg
                     134             
00E3 857FF0          135             mov B, var1
00E6 7401            136             mov A, #01d
00E8 A4              137             mul AB
                     138             
00E9 75F00A          139             mov B,#10
00EC 84              140             div AB
                     141             
00ED FA              142             mov R2, A
00EE ABF0            143             mov R3, B
                     144             
00F0 E57F            145             mov A,var1
00F2 75F00A          146             mov B,#10
00F5 84              147             div AB
                     148             
00F6 F8              149             mov R0,A
00F7 A9F0            150             mov R1,B
                     151             
00F9 E8              152             mov A,R0
00FA 2430            153             add A,#30h
00FC F8              154             mov R0,A
                     155             
00FD E9              156             mov A,R1
00FE 2430            157             add A,#30h
0100 F9              158             mov R1,A
                     159             
0101 EA              160             mov A,R2
0102 2430            161             add A,#30h
0104 FA              162             mov R2,A
                     163             
0105 EB              164             mov A,R3
0106 2430            165             add A,#30h
0108 FB              166             mov R3,A
                     167             
0109 8880            168             mov dado, R0
010B 91C1            169             aCALL dadodisp
010D B10B            170             acall delay2
                     171             
010F 8980            172             mov dado, R1
0111 91C1            173             aCALL dadodisp
0113 B10B            174             acall delay2
                     175             
0115 75803D          176             mov dado, #3dh
0118 91C1            177             aCALL dadodisp
011A B10B            178             acall delay2
                     179             
011C 8A80            180             mov dado, R2
011E 91C1            181             aCALL dadodisp
0120 B10B            182             acall delay2
                     183             
0122 8B80            184             mov dado, R3
0124 91C1            185             aCALL dadodisp
0126 B10B            186             acall delay2
                     187             
0128 057F            188             inc var1
012A 020066          189             ljmp lin_check
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE     4

                     190             
012D                 191     bot_2:
012D E57E            192             mov a, var2
012F B40B0B          193             cjne a, #11, show2
0132 757E00          194             mov var2,#0
0135 D2A0            195             setb P2.0
0137 B114            196             acall delay_longo
0139 C2A0            197             clr P2.0
013B 1166            198             acall lin_check
013D                 199     show2:  
013D 919D            200             acall inidisp
                     201             ;Escreve linha 1
013F 900926          202             mov  dptr, #msg_2_L1
0142 7C10            203         mov r4, #016d
0144 91EB            204             acall msg
                     205             ;Troca Linha
0146 91FA            206             acall troca_para_L2
                     207             ;Escreve Comeco da linha 2
0148 900991          208             mov  dptr, #msg_2_L2
014B 7C10            209             mov r4, #016d
014D 91EB            210             acall msg
                     211             
014F 857EF0          212             mov B, var2
0152 7402            213             mov A, #02d
0154 A4              214             mul AB
                     215             
0155 75F00A          216             mov B,#10
0158 84              217             div AB
                     218             
0159 FA              219             mov R2, A
015A ABF0            220             mov R3, B
                     221             
015C E57E            222             mov A,var2
015E 75F00A          223             mov B,#10
0161 84              224             div AB
                     225             
0162 F8              226             mov R0,A
0163 A9F0            227             mov R1,B
                     228             
0165 E8              229             mov A,R0
0166 2430            230             add A,#30h
0168 F8              231             mov R0,A
                     232             
0169 E9              233             mov A,R1
016A 2430            234             add A,#30h
016C F9              235             mov R1,A
                     236             
016D EA              237             mov A,R2
016E 2430            238             add A,#30h
0170 FA              239             mov R2,A
                     240             
0171 EB              241             mov A,R3
0172 2430            242             add A,#30h
0174 FB              243             mov R3,A
                     244             
0175 8880            245             mov dado, R0
0177 91C1            246             aCALL dadodisp
0179 B10B            247             acall delay2
                     248             
017B 8980            249             mov dado, R1
017D 91C1            250             aCALL dadodisp
017F B10B            251             acall delay2
                     252             
0181 75803D          253             mov dado, #3dh
0184 91C1            254             aCALL dadodisp
0186 B10B            255             acall delay2
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE     5

                     256             
0188 8A80            257             mov dado, R2
018A 91C1            258             aCALL dadodisp
018C B10B            259             acall delay2
                     260             
018E 8B80            261             mov dado, R3
0190 91C1            262             aCALL dadodisp
0192 B10B            263             acall delay2
                     264             
0194 057E            265             inc var2
0196 020066          266             ljmp lin_check
0199                 267     bot_3:
0199 E57D            268             mov a, var3
019B B40B0B          269             cjne a, #11, show3
019E 757D00          270             mov var3,#0
01A1 D2A0            271             setb P2.0
01A3 B114            272             acall delay_longo
01A5 C2A0            273             clr P2.0
01A7 1166            274             acall lin_check
01A9                 275     show3:  
01A9 919D            276             acall inidisp
                     277             ;Escreve linha 1
01AB 900933          278             mov  dptr, #msg_3_L1
01AE 7C10            279         mov r4, #016d
01B0 91EB            280             acall msg
                     281             ;Troca Linha
01B2 91FA            282             acall troca_para_L2
                     283             ;Escreve Comeco da linha 2
01B4 900994          284             mov  dptr, #msg_3_L2
01B7 7C10            285             mov r4, #016d
01B9 91EB            286             acall msg
                     287             
01BB 857DF0          288             mov B, var3
01BE 7400            289             mov A, #0d
01C0 A4              290             mul AB
                     291             
01C1 75F00A          292             mov B,#10
01C4 84              293             div AB
                     294             
01C5 FA              295             mov R2, A
01C6 ABF0            296             mov R3, B
                     297             
01C8 E57D            298             mov A,var3
01CA 75F00A          299             mov B,#10
01CD 84              300             div AB
                     301             
01CE F8              302             mov R0,A
01CF A9F0            303             mov R1,B
                     304             
01D1 E8              305             mov A,R0
01D2 2430            306             add A,#30h
01D4 F8              307             mov R0,A
                     308             
01D5 E9              309             mov A,R1
01D6 2430            310             add A,#30h
01D8 F9              311             mov R1,A
                     312             
01D9 EA              313             mov A,R2
01DA 2430            314             add A,#30h
01DC FA              315             mov R2,A
                     316             
01DD EB              317             mov A,R3
01DE 2430            318             add A,#30h
01E0 FB              319             mov R3,A
                     320             
01E1 8880            321             mov dado, R0
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE     6

01E3 91C1            322             aCALL dadodisp
01E5 B10B            323             acall delay2
                     324             
01E7 8980            325             mov dado, R1
01E9 91C1            326             aCALL dadodisp
01EB B10B            327             acall delay2
                     328             
01ED 75803D          329             mov dado, #3dh
01F0 91C1            330             aCALL dadodisp
01F2 B10B            331             acall delay2
                     332             
01F4 8A80            333             mov dado, R2
01F6 91C1            334             aCALL dadodisp
01F8 B10B            335             acall delay2
                     336             
01FA 8B80            337             mov dado, R3
01FC 91C1            338             aCALL dadodisp
01FE B10B            339             acall delay2
                     340             
0200 057B            341             inc var5
0202 020066          342             ljmp lin_check
                     343     ;bot_A:
0205                 344     bot_4:
0205 E57C            345             mov a, var4
0207 B40B0B          346             cjne a, #11, show4
020A 757C00          347             mov var4,#0
020D D2A0            348             setb P2.0
020F B114            349             acall delay_longo
0211 C2A0            350             clr P2.0
0213 1166            351             acall lin_check
0215                 352     show4:  
0215 919D            353             acall inidisp
                     354             ;Escreve linha 1
0217 900940          355             mov  dptr, #msg_4_L1
021A 7C10            356         mov r4, #016d
021C 91EB            357             acall msg
                     358             ;Troca Linha
021E 91FA            359             acall troca_para_L2
                     360             ;Escreve Comeco da linha 2
0220 900997          361             mov  dptr, #msg_4_L2
0223 7C10            362             mov r4, #016d
0225 91EB            363             acall msg
                     364             
0227 857CF0          365             mov B, var4
022A 7404            366             mov A, #04d
022C A4              367             mul AB
                     368             
022D 75F00A          369             mov B,#10
0230 84              370             div AB
                     371             
0231 FA              372             mov R2, A
0232 ABF0            373             mov R3, B
                     374             
0234 E57C            375             mov A,var4
0236 75F00A          376             mov B,#10
0239 84              377             div AB
                     378             
023A F8              379             mov R0,A
023B A9F0            380             mov R1,B
                     381             
023D E8              382             mov A,R0
023E 2430            383             add A,#30h
0240 F8              384             mov R0,A
                     385             
0241 E9              386             mov A,R1
0242 2430            387             add A,#30h
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE     7

0244 F9              388             mov R1,A
                     389             
0245 EA              390             mov A,R2
0246 2430            391             add A,#30h
0248 FA              392             mov R2,A
                     393             
0249 EB              394             mov A,R3
024A 2430            395             add A,#30h
024C FB              396             mov R3,A
                     397             
024D 8880            398             mov dado, R0
024F 91C1            399             aCALL dadodisp
0251 B10B            400             acall delay2
                     401             
0253 8980            402             mov dado, R1
0255 91C1            403             aCALL dadodisp
0257 B10B            404             acall delay2
                     405             
0259 75803D          406             mov dado, #3dh
025C 91C1            407             aCALL dadodisp
025E B10B            408             acall delay2
                     409             
0260 8A80            410             mov dado, R2
0262 91C1            411             aCALL dadodisp
0264 B10B            412             acall delay2
                     413             
0266 8B80            414             mov dado, R3
0268 91C1            415             aCALL dadodisp
026A B10B            416             acall delay2
                     417             
026C 057C            418             inc var4
026E 020066          419             ljmp lin_check
                     420     
0271                 421     bot_5:
0271 E57B            422             mov a, var5
0273 B40B0B          423             cjne a, #11, show5
0276 757B00          424             mov var5,#0
0279 D2A0            425             setb P2.0
027B B114            426             acall delay_longo
027D C2A0            427             clr P2.0
027F 1166            428             acall lin_check
0281                 429     show5:  
0281 919D            430             acall inidisp
                     431             ;Escreve linha 1
0283 90094D          432             mov  dptr, #msg_5_L1
0286 7C10            433         mov r4, #016d
0288 91EB            434             acall msg
                     435             ;Troca Linha
028A 91FA            436             acall troca_para_L2
                     437             ;Escreve Comeco da linha 2
028C 90099A          438             mov  dptr, #msg_5_L2
028F 7C10            439             mov r4, #016d
0291 91EB            440             acall msg
                     441             
0293 857BF0          442             mov B, var5
0296 7405            443             mov A, #05d
0298 A4              444             mul AB
                     445             
0299 75F00A          446             mov B,#10
029C 84              447             div AB
                     448             
029D FA              449             mov R2, A
029E ABF0            450             mov R3, B
                     451             
02A0 E57B            452             mov A,var5
02A2 75F00A          453             mov B,#10
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE     8

02A5 84              454             div AB
                     455             
02A6 F8              456             mov R0,A
02A7 A9F0            457             mov R1,B
                     458             
02A9 E8              459             mov A,R0
02AA 2430            460             add A,#30h
02AC F8              461             mov R0,A
                     462             
02AD E9              463             mov A,R1
02AE 2430            464             add A,#30h
02B0 F9              465             mov R1,A
                     466             
02B1 EA              467             mov A,R2
02B2 2430            468             add A,#30h
02B4 FA              469             mov R2,A
                     470             
02B5 EB              471             mov A,R3
02B6 2430            472             add A,#30h
02B8 FB              473             mov R3,A
                     474             
02B9 8880            475             mov dado, R0
02BB 91C1            476             aCALL dadodisp
02BD B10B            477             acall delay2
                     478             
02BF 8980            479             mov dado, R1
02C1 91C1            480             aCALL dadodisp
02C3 B10B            481             acall delay2
                     482             
02C5 75803D          483             mov dado, #3dh
02C8 91C1            484             aCALL dadodisp
02CA B10B            485             acall delay2
                     486             
02CC 8A80            487             mov dado, R2
02CE 91C1            488             aCALL dadodisp
02D0 B10B            489             acall delay2
                     490             
02D2 8B80            491             mov dado, R3
02D4 91C1            492             aCALL dadodisp
02D6 B10B            493             acall delay2
                     494             
02D8 057B            495             inc var5
02DA 020066          496             ljmp lin_check
                     497             
02DD                 498     bot_6:
02DD E57A            499             mov a, var6
02DF B40B0B          500             cjne a, #11, show6
02E2 757A00          501             mov var6,#0
02E5 D2A0            502             setb P2.0
02E7 B114            503             acall delay_longo
02E9 C2A0            504             clr P2.0
02EB 1166            505             acall lin_check
02ED                 506     show6:  
02ED 919D            507             acall inidisp
                     508             ;Escreve linha 1
02EF 90095A          509             mov  dptr, #msg_6_L1
02F2 7C10            510         mov r4, #016d
02F4 91EB            511             acall msg
                     512             ;Troca Linha
02F6 91FA            513             acall troca_para_L2
                     514             ;Escreve Comeco da linha 2
02F8 90099D          515             mov  dptr, #msg_6_L2
02FB 7C10            516             mov r4, #016d
02FD 91EB            517             acall msg
                     518             
02FF 857AF0          519             mov B, var6
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE     9

0302 7406            520             mov A, #06d
0304 A4              521             mul AB
                     522             
0305 75F00A          523             mov B,#10
0308 84              524             div AB
                     525             
0309 FA              526             mov R2, A
030A ABF0            527             mov R3, B
                     528             
030C E57A            529             mov A,var6
030E 75F00A          530             mov B,#10
0311 84              531             div AB
                     532             
0312 F8              533             mov R0,A
0313 A9F0            534             mov R1,B
                     535             
0315 E8              536             mov A,R0
0316 2430            537             add A,#30h
0318 F8              538             mov R0,A
                     539             
0319 E9              540             mov A,R1
031A 2430            541             add A,#30h
031C F9              542             mov R1,A
                     543             
031D EA              544             mov A,R2
031E 2430            545             add A,#30h
0320 FA              546             mov R2,A
                     547             
0321 EB              548             mov A,R3
0322 2430            549             add A,#30h
0324 FB              550             mov R3,A
                     551             
0325 8880            552             mov dado, R0
0327 91C1            553             aCALL dadodisp
0329 B10B            554             acall delay2
                     555             
032B 8980            556             mov dado, R1
032D 91C1            557             aCALL dadodisp
032F B10B            558             acall delay2
                     559             
0331 75803D          560             mov dado, #3dh
0334 91C1            561             aCALL dadodisp
0336 B10B            562             acall delay2
                     563             
0338 8A80            564             mov dado, R2
033A 91C1            565             aCALL dadodisp
033C B10B            566             acall delay2
                     567             
033E 8B80            568             mov dado, R3
0340 91C1            569             aCALL dadodisp
0342 B10B            570             acall delay2
                     571             
0344 057A            572             inc var6
0346 020066          573             ljmp lin_check
                     574     
0349                 575     bot_7:
0349 E579            576             mov a, var7
034B B40B0B          577             cjne a, #11, show7
034E 757900          578             mov var7,#0
0351 D2A0            579             setb P2.0
0353 B114            580             acall delay_longo
0355 C2A0            581             clr P2.0
0357 1166            582             acall lin_check
0359                 583     show7:  
0359 919D            584             acall inidisp
                     585             ;Escreve linha 1
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE    10

035B 900967          586             mov  dptr, #msg_7_L1
035E 7C10            587         mov r4, #016d
0360 91EB            588             acall msg
                     589             ;Troca Linha
0362 91FA            590             acall troca_para_L2
                     591             ;Escreve Comeco da linha 2
0364 9009A0          592             mov  dptr, #msg_7_L2
0367 7C10            593             mov r4, #016d
0369 91EB            594             acall msg
                     595             
036B 8579F0          596             mov B, var7
036E 7407            597             mov A, #07d
0370 A4              598             mul AB
                     599             
0371 75F00A          600             mov B,#10
0374 84              601             div AB
                     602             
0375 FA              603             mov R2, A
0376 ABF0            604             mov R3, B
                     605             
0378 E579            606             mov A,var7
037A 75F00A          607             mov B,#10
037D 84              608             div AB
                     609             
037E F8              610             mov R0,A
037F A9F0            611             mov R1,B
                     612             
0381 E8              613             mov A,R0
0382 2430            614             add A,#30h
0384 F8              615             mov R0,A
                     616             
0385 E9              617             mov A,R1
0386 2430            618             add A,#30h
0388 F9              619             mov R1,A
                     620             
0389 EA              621             mov A,R2
038A 2430            622             add A,#30h
038C FA              623             mov R2,A
                     624             
038D EB              625             mov A,R3
038E 2430            626             add A,#30h
0390 FB              627             mov R3,A
                     628             
0391 8880            629             mov dado, R0
0393 91C1            630             aCALL dadodisp
0395 B10B            631             acall delay2
                     632             
0397 8980            633             mov dado, R1
0399 91C1            634             aCALL dadodisp
039B B10B            635             acall delay2
                     636             
039D 75803D          637             mov dado, #3dh
03A0 91C1            638             aCALL dadodisp
03A2 B10B            639             acall delay2
                     640             
03A4 8A80            641             mov dado, R2
03A6 91C1            642             aCALL dadodisp
03A8 B10B            643             acall delay2
                     644             
03AA 8B80            645             mov dado, R3
03AC 91C1            646             aCALL dadodisp
03AE B10B            647             acall delay2
                     648             
03B0 0579            649             inc var7
03B2 020066          650             ljmp lin_check
                     651     
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE    11

03B5                 652     bot_8:
03B5 E578            653             mov a, var8
03B7 B40B0B          654             cjne a, #11, show8
03BA 757800          655             mov var8,#0
03BD D2A0            656             setb P2.0
03BF B114            657             acall delay_longo
03C1 C2A0            658             clr P2.0
03C3 1166            659             acall lin_check
03C5                 660     show8:  
03C5 919D            661             acall inidisp
                     662             ;Escreve linha 1
03C7 900974          663             mov  dptr, #msg_8_L1
03CA 7C10            664         mov r4, #016d
03CC 91EB            665             acall msg
                     666             ;Troca Linha
03CE 91FA            667             acall troca_para_L2
                     668             ;Escreve Comeco da linha 2
03D0 9009A3          669             mov  dptr, #msg_8_L2
03D3 7C10            670             mov r4, #016d
03D5 91EB            671             acall msg
                     672             
03D7 8578F0          673             mov B, var8
03DA 7408            674             mov A, #08d
03DC A4              675             mul AB
                     676             
03DD 75F00A          677             mov B,#10
03E0 84              678             div AB
                     679             
03E1 FA              680             mov R2, A
03E2 ABF0            681             mov R3, B
                     682             
03E4 E578            683             mov A,var8
03E6 75F00A          684             mov B,#10
03E9 84              685             div AB
                     686             
03EA F8              687             mov R0,A
03EB A9F0            688             mov R1,B
                     689             
03ED E8              690             mov A,R0
03EE 2430            691             add A,#30h
03F0 F8              692             mov R0,A
                     693             
03F1 E9              694             mov A,R1
03F2 2430            695             add A,#30h
03F4 F9              696             mov R1,A
                     697             
03F5 EA              698             mov A,R2
03F6 2430            699             add A,#30h
03F8 FA              700             mov R2,A
                     701             
03F9 EB              702             mov A,R3
03FA 2430            703             add A,#30h
03FC FB              704             mov R3,A
                     705             
03FD 8880            706             mov dado, R0
03FF 91C1            707             aCALL dadodisp
0401 B10B            708             acall delay2
                     709             
0403 8980            710             mov dado, R1
0405 91C1            711             aCALL dadodisp
0407 B10B            712             acall delay2
                     713             
0409 75803D          714             mov dado, #3dh
040C 91C1            715             aCALL dadodisp
040E B10B            716             acall delay2
                     717             
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE    12

0410 8A80            718             mov dado, R2
0412 91C1            719             aCALL dadodisp
0414 B10B            720             acall delay2
                     721             
0416 8B80            722             mov dado, R3
0418 91C1            723             aCALL dadodisp
041A B10B            724             acall delay2
                     725             
041C 0578            726             inc var8
041E 020066          727             ljmp lin_check
                     728     
0421                 729     bot_9:
0421 E577            730             mov a, var9
0423 B40B0B          731             cjne a, #11, show9
0426 757700          732             mov var9,#0
0429 D2A0            733             setb P2.0
042B B114            734             acall delay_longo
042D C2A0            735             clr P2.0
042F 1166            736             acall lin_check
0431                 737     show9:  
0431 919D            738             acall inidisp
                     739             ;Escreve linha 1
0433 900981          740             mov  dptr, #msg_9_L1
0436 7C10            741         mov r4, #016d
0438 91EB            742             acall msg
                     743             ;Troca Linha
043A 91FA            744             acall troca_para_L2
                     745             ;Escreve Comeco da linha 2
043C 9009A6          746             mov  dptr, #msg_9_L2
043F 7C10            747             mov r4, #016d
0441 91EB            748             acall msg
                     749             
0443 8577F0          750             mov B, var9
0446 7409            751             mov A, #09d
0448 A4              752             mul AB
                     753             
0449 75F00A          754             mov B,#10
044C 84              755             div AB
                     756             
044D FA              757             mov R2, A
044E ABF0            758             mov R3, B
                     759             
0450 E577            760             mov A,var9
0452 75F00A          761             mov B,#10
0455 84              762             div AB
                     763             
0456 F8              764             mov R0,A
0457 A9F0            765             mov R1,B
                     766             
0459 E8              767             mov A,R0
045A 2430            768             add A,#30h
045C F8              769             mov R0,A
                     770             
045D E9              771             mov A,R1
045E 2430            772             add A,#30h
0460 F9              773             mov R1,A
                     774             
0461 EA              775             mov A,R2
0462 2430            776             add A,#30h
0464 FA              777             mov R2,A
                     778             
0465 EB              779             mov A,R3
0466 2430            780             add A,#30h
0468 FB              781             mov R3,A
                     782             
0469 8880            783             mov dado, R0
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE    13

046B 91C1            784             aCALL dadodisp
046D B10B            785             acall delay2
                     786             
046F 8980            787             mov dado, R1
0471 91C1            788             aCALL dadodisp
0473 B10B            789             acall delay2
                     790             
0475 75803D          791             mov dado, #3dh
0478 91C1            792             aCALL dadodisp
047A B10B            793             acall delay2
                     794             
047C 8A80            795             mov dado, R2
047E 91C1            796             aCALL dadodisp
0480 B10B            797             acall delay2
                     798             
0482 8B80            799             mov dado, R3
0484 91C1            800             aCALL dadodisp
0486 B10B            801             acall delay2
                     802             
0488 0577            803             inc var9
048A 020066          804             ljmp lin_check
                     805     
                     806     ;bot_B:
                     807     ;bot_C:
                     808     ;bot_AST:
                     809     ;bot_0:
                     810     ;bot_HASH:
                     811     ;bot_D:
                     812     
                     813             
                     814      ;Inicializacao do display
                     815     ;------------------------------------------------------------------------;
                     816     ;Rotina que inicializa o display para o uso                              ;
                     817     ;nao tem dados de entrada e nao devolve nada                             ;
                     818     ;------------------------------------------------------------------------;
048D                 819     pisca_cursor:
048D 75800E          820                     MOV dado,#0eh
0490 91CE            821                     CALL comdisp
0492 B100            822                     call temp
0494 75800C          823                     MOV dado,#0ch
0497 91CE            824                     CALL comdisp
0499 B100            825                     call temp
049B 80F0            826                     jmp pisca_cursor
                     827     
049D 758038          828     inidisp:    mov dado,#38h
                     829                             ;mov dado,#3ch
04A0 91CE            830                 CALL comdisp
04A2 B10B            831                             call delay2
04A4 758038          832                             mov dado,#38h
                     833                             ;mov dado,#3ch
04A7 91CE            834                 CALL comdisp
04A9 B10B            835                             call delay2
04AB 758006          836                                     MOV dado,#06h
04AE 91CE            837                 CALL comdisp
04B0 B10B            838                                call delay2
04B2 75800E          839                                     MOV dado,#0eh
04B5 91CE            840                 CALL comdisp
04B7 B10B            841                                     call delay2
04B9 758001          842                             MOV dado,#01H
04BC 91CE            843                             CALL comdisp
04BE B10B            844                             call delay2
04C0 22              845                 RET
                     846     
04C1 C2A7            847     dadodisp:   clr  en
04C3 C2A6            848                             clr rw
04C5 D2A5            849                 setb rs
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE    14

04C7 D2A7            850                 setb en
04C9 B102            851                 call delay
04CB C2A7            852                 clr  en
04CD 22              853                 ret
                     854     
04CE C2A7            855     comdisp:    clr  en
04D0 C2A6            856                     clr rw
04D2 C2A5            857                         clr  rs
04D4 D2A7            858                 setb en
04D6 B102            859                 call delay
04D8 C2A7            860                 clr  en
04DA 22              861                 ret
                     862     
                     863     
04DB                 864     msg_aguardando1:
04DB 900900          865                             mov  dptr, #mensagem_aguardando_L1
04DE 7C10            866                 mov r4, #016d
04E0 8009            867                             jmp msg
04E2 22              868                             ret
                     869                             
04E3                 870     msg_aguardando2:
04E3 900908          871                             mov  dptr, #mensagem_aguardando_L2
04E6 7C10            872                 mov r4, #016d
04E8 8001            873                             jmp msg
04EA 22              874                             ret
                     875                             
                     876                                
04EB E4              877     msg:                    clr a
04EC 93              878                                     movc  a,@a+dptr
04ED F580            879                                     mov dado,a
04EF 91C1            880                                     call dadodisp
04F1 B10B            881                                     call delay2
04F3 A3              882                                     inc dptr
04F4 E4              883                                     clr a
04F5 93              884                                     movc  a,@a+dptr
                     885                                     
04F6 B400F2          886                                     cjne a, #00h, msg
04F9 22              887                                     ret
                     888                                     
                     889                                     
                     890     
04FA                 891     troca_para_L2:
04FA 7580C0          892                                 mov dado, #0c0h
04FD 91CE            893                                     aCALL comdisp
04FF B10B            894                                     acall delay2
0501 22              895                                 ret
                     896     
                     897     
0502 7E0F            898     delay:      mov r6,#0FH
0504 7F0F            899     loop:                   mov r7, #0FH
0506 DFFE            900                                     djnz r7,$
0508 DEFA            901                                djnz r6, loop
050A 22              902                                ret
                     903                                
050B 7EFF            904     delay2:      mov r6,#0FFH
050D 7FFF            905     loop2:          mov r7, #0FFH
050F DFFE            906                                     djnz r7,$
0511 DEFA            907                                djnz r6, loop2
0513 22              908                                ret
                     909     
0514                 910     delay_longo:
0514 7D1E            911             MOV R5, #30 ;1us
0516                 912             DEL1:
0516 7EC8            913                     MOV R6, #200 ;1us
0518                 914                     DEL2:
0518 7FF8            915                             MOV R7, #248 ;1us
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE    15

051A                 916                                     DEL3:
051A DFFE            917                                     DJNZ R7, DEL3 ;2us
051C 00              918                                     NOP                ;1us
051D DEF9            919                                     DJNZ R6, DEL2 ;2us 
051F DDF5            920                                     DJNZ R5, DEL1 ;2us
0521 22              921             RET
                     922             
                     923             
0900                 924     org 0900h
0900 426F6D20        925     mensagem_aguardando_L1: DB "Bom dia",0
0904 64696100                
0908 41706572        926     mensagem_aguardando_L2: DB "Aperte uma tecla",0 
090C 74652075                
0910 6D612074                
0914 65636C61                
0918 00                      
0919 54616275        927     msg_1_L1: DB "Tabuada do 1",0
091D 61646120                
0921 646F2031                
0925 00                      
0926 54616275        928     msg_2_L1: DB "Tabuada do 2",0
092A 61646120                
092E 646F2032                
0932 00                      
0933 54616275        929     msg_3_L1: DB "Tabuada do 3",0
0937 61646120                
093B 646F2033                
093F 00                      
0940 54616275        930     msg_4_L1: DB "Tabuada do 4",0
0944 61646120                
0948 646F2034                
094C 00                      
094D 54616275        931     msg_5_L1: DB "Tabuada do 5",0
0951 61646120                
0955 646F2035                
0959 00                      
095A 54616275        932     msg_6_L1: DB "Tabuada do 6",0
095E 61646120                
0962 646F2036                
0966 00                      
0967 54616275        933     msg_7_L1: DB "Tabuada do 7",0
096B 61646120                
096F 646F2037                
0973 00                      
0974 54616275        934     msg_8_L1: DB "Tabuada do 8",0
0978 61646120                
097C 646F2038                
0980 00                      
0981 54616275        935     msg_9_L1: DB "Tabuada do 9",0
0985 61646120                
0989 646F2039                
098D 00                      
098E 317800          936     msg_1_L2: DB "1x",0
0991 327800          937     msg_2_L2: DB "2x",0
0994 337800          938     msg_3_L2: DB "3x",0
0997 347800          939     msg_4_L2: DB "4x",0
099A 357800          940     msg_5_L2: DB "5x",0
099D 367800          941     msg_6_L2: DB "6x",0
09A0 377800          942     msg_7_L2: DB "7x",0
09A3 387800          943     msg_8_L2: DB "8x",0
09A6 397800          944     msg_9_L2: DB "9x",0
                     945     END
                                                        
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE    16

SYMBOL TABLE LISTING
------ ----- -------


N A M E                 T Y P E  V A L U E   ATTRIBUTES

B. . . . . . . . . . .  D ADDR   00F0H   A   
BOT_1. . . . . . . . .  C ADDR   00C1H   A   
BOT_1_LJMP . . . . . .  C ADDR   00A6H   A   
BOT_2. . . . . . . . .  C ADDR   012DH   A   
BOT_2_LJMP . . . . . .  C ADDR   00A9H   A   
BOT_3. . . . . . . . .  C ADDR   0199H   A   
BOT_3_LJMP . . . . . .  C ADDR   00ACH   A   
BOT_4. . . . . . . . .  C ADDR   0205H   A   
BOT_4_LJMP . . . . . .  C ADDR   00AFH   A   
BOT_5. . . . . . . . .  C ADDR   0271H   A   
BOT_5_LJMP . . . . . .  C ADDR   00B2H   A   
BOT_6. . . . . . . . .  C ADDR   02DDH   A   
BOT_6_LJMP . . . . . .  C ADDR   00B5H   A   
BOT_7. . . . . . . . .  C ADDR   0349H   A   
BOT_7_LJMP . . . . . .  C ADDR   00B8H   A   
BOT_8. . . . . . . . .  C ADDR   03B5H   A   
BOT_8_LJMP . . . . . .  C ADDR   00BBH   A   
BOT_9. . . . . . . . .  C ADDR   0421H   A   
BOT_9_LJMP . . . . . .  C ADDR   00BEH   A   
COL1 . . . . . . . . .  B ADDR   00B0H.4 A   
COL2 . . . . . . . . .  B ADDR   00B0H.5 A   
COL3 . . . . . . . . .  B ADDR   00B0H.6 A   
COL4 . . . . . . . . .  B ADDR   00B0H.7 A   
COMDISP. . . . . . . .  C ADDR   04CEH   A   
DADO . . . . . . . . .  D ADDR   0080H   A   
DADODISP . . . . . . .  C ADDR   04C1H   A   
DEL1 . . . . . . . . .  C ADDR   0516H   A   
DEL2 . . . . . . . . .  C ADDR   0518H   A   
DEL3 . . . . . . . . .  C ADDR   051AH   A   
DELAY. . . . . . . . .  C ADDR   0502H   A   
DELAY2 . . . . . . . .  C ADDR   050BH   A   
DELAY_LONGO. . . . . .  C ADDR   0514H   A   
EN . . . . . . . . . .  B ADDR   00A0H.7 A   
INIDISP. . . . . . . .  C ADDR   049DH   A   
L1_C_CHECK . . . . . .  C ADDR   0077H   A   
L2_C_CHECK . . . . . .  C ADDR   0085H   A   
L3_C_CHECK . . . . . .  C ADDR   0093H   A   
L4_C_CHECK . . . . . .  C ADDR   00A1H   A   
LIN1 . . . . . . . . .  B ADDR   00B0H.0 A   
LIN2 . . . . . . . . .  B ADDR   00B0H.1 A   
LIN3 . . . . . . . . .  B ADDR   00B0H.2 A   
LIN4 . . . . . . . . .  B ADDR   00B0H.3 A   
LIN_CHECK. . . . . . .  C ADDR   0066H   A   
LOOP . . . . . . . . .  C ADDR   0504H   A   
LOOP2. . . . . . . . .  C ADDR   050DH   A   
MENSAGEM_AGUARDANDO_L1  C ADDR   0900H   A   
MENSAGEM_AGUARDANDO_L2  C ADDR   0908H   A   
MSG. . . . . . . . . .  C ADDR   04EBH   A   
MSG_1_L1 . . . . . . .  C ADDR   0919H   A   
MSG_1_L2 . . . . . . .  C ADDR   098EH   A   
MSG_2_L1 . . . . . . .  C ADDR   0926H   A   
MSG_2_L2 . . . . . . .  C ADDR   0991H   A   
MSG_3_L1 . . . . . . .  C ADDR   0933H   A   
MSG_3_L2 . . . . . . .  C ADDR   0994H   A   
MSG_4_L1 . . . . . . .  C ADDR   0940H   A   
MSG_4_L2 . . . . . . .  C ADDR   0997H   A   
MSG_5_L1 . . . . . . .  C ADDR   094DH   A   
MSG_5_L2 . . . . . . .  C ADDR   099AH   A   
MSG_6_L1 . . . . . . .  C ADDR   095AH   A   
MSG_6_L2 . . . . . . .  C ADDR   099DH   A   
A51 MACRO ASSEMBLER  PROJETO1                                                             04/24/2018 22:37:02 PAGE    17

MSG_7_L1 . . . . . . .  C ADDR   0967H   A   
MSG_7_L2 . . . . . . .  C ADDR   09A0H   A   
MSG_8_L1 . . . . . . .  C ADDR   0974H   A   
MSG_8_L2 . . . . . . .  C ADDR   09A3H   A   
MSG_9_L1 . . . . . . .  C ADDR   0981H   A   
MSG_9_L2 . . . . . . .  C ADDR   09A6H   A   
MSG_AGUARDANDO1. . . .  C ADDR   04DBH   A   
MSG_AGUARDANDO2. . . .  C ADDR   04E3H   A   
P0 . . . . . . . . . .  D ADDR   0080H   A   
P2 . . . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . . . .  D ADDR   00B0H   A   
PISCA_CURSOR . . . . .  C ADDR   048DH   A   
RS . . . . . . . . . .  B ADDR   00A0H.5 A   
RW . . . . . . . . . .  B ADDR   00A0H.6 A   
SHOW1. . . . . . . . .  C ADDR   00D1H   A   
SHOW2. . . . . . . . .  C ADDR   013DH   A   
SHOW3. . . . . . . . .  C ADDR   01A9H   A   
SHOW4. . . . . . . . .  C ADDR   0215H   A   
SHOW5. . . . . . . . .  C ADDR   0281H   A   
SHOW6. . . . . . . . .  C ADDR   02EDH   A   
SHOW7. . . . . . . . .  C ADDR   0359H   A   
SHOW8. . . . . . . . .  C ADDR   03C5H   A   
SHOW9. . . . . . . . .  C ADDR   0431H   A   
TEMP . . . . . . . . .  N NUMB   0500H   A   
TROCA_PARA_L2. . . . .  C ADDR   04FAH   A   
VAR1 . . . . . . . . .  N NUMB   007FH   A   
VAR2 . . . . . . . . .  N NUMB   007EH   A   
VAR3 . . . . . . . . .  N NUMB   007DH   A   
VAR4 . . . . . . . . .  N NUMB   007CH   A   
VAR5 . . . . . . . . .  N NUMB   007BH   A   
VAR6 . . . . . . . . .  N NUMB   007AH   A   
VAR7 . . . . . . . . .  N NUMB   0079H   A   
VAR8 . . . . . . . . .  N NUMB   0078H   A   
VAR9 . . . . . . . . .  N NUMB   0077H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
